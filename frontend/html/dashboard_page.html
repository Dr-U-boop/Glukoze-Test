<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>–ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="dashboard-container" id="dashboard-container">
        <header class="dashboard-header">
            <div class="header-left">
                <button id="sidebar-toggle" class="icon-btn" title="–°–≤–µ—Ä–Ω—É—Ç—å/–†–∞–∑–≤–µ—Ä–Ω—É—Ç—å –º–µ–Ω—é">
                    <i class="fas fa-bars"></i>
                </button>
                <h3>–ü–∞–Ω–µ–ª—å –≤—Ä–∞—á–∞</h3>
            </div>
            <div class="doctor-info">
                <span id="doctor-name"></span>
                <button id="logout-btn">–í—ã—Ö–æ–¥</button>
            </div>
        </header>

        <aside class="patients-sidebar">
            <div class="sidebar-header">
                <h2>–ú–æ–∏ –ø–∞—Ü–∏–µ–Ω—Ç—ã</h2>
                <button id="add-patient-btn" title="–î–æ–±–∞–≤–∏—Ç—å –ø–∞—Ü–∏–µ–Ω—Ç–∞">+</button>
            </div>
            
            <div class="search-container">
                <input type="text" id="patient-search" placeholder="–ü–æ–∏—Å–∫ (–§–ò–û, –¥–∞—Ç–∞ —Ä–æ–∂–¥.)...">
            </div>

            <ul id="patients-list" class="patients-list">
                </ul>
            <div id="sidebar-resizer" class="resizer"></div>
        </aside>

        <main id="main-content" class="main-content">
    <div id="welcome-message">–í—ã–±–µ—Ä–∏—Ç–µ –ø–∞—Ü–∏–µ–Ω—Ç–∞ –∏–∑ —Å–ø–∏—Å–∫–∞ —Å–ª–µ–≤–∞, —á—Ç–æ–±—ã —É–≤–∏–¥–µ—Ç—å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.</div>
    
    <div id="patient-details" class="hidden">
        <div class="patient-header-wrapper">
            <h2 id="patient-name" style="margin-bottom: 15px;">–ò–º—è –ø–∞—Ü–∏–µ–Ω—Ç–∞</h2>
            
            <div class="tabs-nav">
                <button class="tab-btn active" data-tab="monitoring">üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –¢–µ—Ä–∞–ø–∏—è</button>
                <button class="tab-btn" data-tab="patient-card">üìã –ö–∞—Ä—Ç–æ—á–∫–∞ –ü–∞—Ü–∏–µ–Ω—Ç–∞</button>
            </div>
        </div>

        <div id="tab-monitoring" class="tab-content active">
            <div class="chart-container content-box">
                <div class="date-range-picker">
                    <label>–°:</label>
                    <input type="date" id="start-date"><input type="time" id="start-time">
                    <label>–ü–æ:</label>
                    <input type="date" id="end-date"><input type="time" id="end-time">
                    <button id="update-chart-btn">–ü–æ–∫–∞–∑–∞—Ç—å</button>
                    <button id="reset-chart-btn" class="secondary-btn">–°–±—Ä–æ—Å–∏—Ç—å</button>
                </div>
                <canvas id="glucose-chart"></canvas>
            </div>

            <div class="recommendation-editor-container content-box">
                <h3>–†–µ–¥–∞–∫—Ç–æ—Ä —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π (AI)</h3>
                <p>–í–≤–µ–¥–∏—Ç–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏. –ò–ò-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç –ø—Ä–µ–æ–±—Ä–∞–∑—É–µ—Ç –∏—Ö –≤ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã.</p>
                <textarea id="recommendation-text" placeholder="–ü—Ä–∏–º–µ—Ä: –°–Ω–∏–∑–∏—Ç—å –±–∞–∑–∞–ª—å–Ω—ã–π –∏–Ω—Å—É–ª–∏–Ω –Ω–æ—á—å—é..."></textarea>
                <button id="interpret-btn">–ò–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∏—Ä–æ–≤–∞—Ç—å</button>
                <div id="confirmation-form" class="hidden card-form">
                    <h4>–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã:</h4>
                    <div id="parsed-results" class="results-grid"></div>
                    <button id="confirm-btn" class="confirm-btn primary-btn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
                </div>
            </div>
        </div>

        <div id="tab-patient-card" class="tab-content">
            <div class="content-box patient-info-full">
                <div class="card-section">
                    <h4>–û—Å–Ω–æ–≤–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ</h4>
                    <div class="info-grid">
                        <p><strong>–í–æ–∑—Ä–∞—Å—Ç:</strong> <span id="card-age">34 –≥–æ–¥–∞</span></p>
                        <p><strong>–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</strong> <span id="card-dob">12.05.1990</span></p>
                        <p><strong>–î–∏–∞–±–µ—Ç —Å:</strong> <span id="card-diag-since">2010 –≥.</span></p>
                        <p><strong>–¢–∏–ø –¥–∏–∞–±–µ—Ç–∞:</strong> <span id="card-type">1 —Ç–∏–ø</span></p>
                    </div>
                </div>

                <div class="card-section">
                    <h4>–ù–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è —Ç–µ—Ä–∞–ø–∏—è</h4>
                    <ul>
                        <li>–ë–∞–∑–∞–ª—å–Ω—ã–π –∏–Ω—Å—É–ª–∏–Ω: <span id="card-basal-therapy">–õ–∞–Ω—Ç—É—Å (24 –ï–î/—Å—É—Ç–∫–∏)</span></li>
                        <li>–ë–æ–ª—é—Å–Ω—ã–π –∏–Ω—Å—É–ª–∏–Ω: <span id="card-bolus-therapy">–•—É–º–∞–ª–æ–≥ (–£–ö 1:10)</span></li>
                        <li>–¢–∏–ø –ø–æ–º–ø—ã: <span id="card-pump-model">Medtronic 780G</span></li>
                    </ul>
                </div>
                
                <div class="card-section">
                    <h4>–î–∏–Ω–∞–º–∏–∫–∞ –∏ –ñ–∞–ª–æ–±—ã</h4>
                    <p><strong>–ü–æ—Å–ª–µ–¥–Ω–∏–π HbA1c:</strong> <span id="card-hba1c">6.5%</span> (–æ—Ç 10.09.2025)</p>
                    <p><strong>–î–∏–∞–≥–Ω–æ–∑:</strong> <span id="card-diagnosis">–°–∞—Ö–∞—Ä–Ω—ã–π –¥–∏–∞–±–µ—Ç 1 —Ç–∏–ø–∞, —Å—Ç–∞–¥–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏.</span></p>
                    <p><strong>–ñ–∞–ª–æ–±—ã:</strong> <span id="card-complaints">–ü–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–µ –Ω–æ—á–Ω—ã–µ –≥–∏–ø–æ–≥–ª–∏–∫–µ–º–∏–∏. –£—Å—Ç–∞–ª–æ—Å—Ç—å –≤–æ –≤—Ç–æ—Ä–æ–π –ø–æ–ª–æ–≤–∏–Ω–µ –¥–Ω—è.</span></p>
                </div>
            </div>
        </div>

    </div>
</main>
    </div>

    <script src="../node_modules/chart.js/dist/chart.umd.js"></script>
    <script src="../node_modules/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
    <!--<script src="chartjs-plugin-decimation.min.js"></script>-->
    <script src="../js/dashboard_page.js"></script>
</body>
</html>